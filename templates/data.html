{% extends 'layout.html'%}
{% block content %}
<!-- Message -->
  <section class="content-header">
    {% for message in get_flashed_messages()%}
        <div class="alert alert-primary alert-dismissible fade show" role="alert">
          <strong>{{ message }}</strong>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor%}
  </section>
<!-- Message -->
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="page-content">
          <div class="heading-section d-flex justify-content-between align-items-center mt-2">
            <h4 style="margin-top: 0; margin-bottom: 0;">VCD Library</h4>
            <div class="main-border-button text-right">
              <a href="/dataentry">Add Data</a>
            </div>
          </div>          
          {% if data|length == 0 %}
          <div class="gaming-library header-text" style="height:400px; margin-top: 32px; display: flex; align-items: center; justify-content: center;">
            <div class="row">
              <div class="col-lg-12">
                  <h6 style="height: max-content; display: block; color: white;">No Data to Display</h6>
              </div>
            </div>
          </div>
          {% else %}
          <div class="gaming-library header-text" style="min-height:400px; margin-top: 32px;">
            <div class="row">
              <div class="col-lg-12">
                {% for row in data %}
                <div class="item">
                  <ul>
                    <li><img src="../static/files/{{row[2]}}" alt="" class="templatemo-item"></li>
                    <li><h4>ID</h4><span>{{row[0]}}</span></li>
                    <li><h4>Title</h4><span>{{row[1]}}</span></li>
                    <li><h4>Genre</h4><span>{{row[4]}}</span></li>
                    <li><h4>Price</h4><span>{{row[3]|format_price}}</span></li>
                    <li class="text-center"><h4>Stock</h4><span>{{row[5]}}</span></li>
                  </ul>
                  <ul class="list-unstyled d-flex justify-content-center">
                    <li>
                      <div class="main-border-button col-6"><a href="/editvcd/{{row[0]}}">Edit</a></div>
                    </li>
                    <li>
                      <div class="main-border-button col-6"><a href="/delete/{{row[0]}}">Delete</a></div>
                    </li>
                  </ul>                  
                </div>
                {% endfor %}
              </div>
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}